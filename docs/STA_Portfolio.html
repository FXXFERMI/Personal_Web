<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Siqi Fei | Fermi – sta_portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Siqi Fei | Fermi</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">HOME | 主页面</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">ABOUT | 关于</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ptputm.html" rel="" target="">
 <span class="menu-text">CLUB | 社团</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Newest_Resume.pdf" rel="" target="">
 <span class="menu-text">CV | 简历</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-portfolio--作品集" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Portfolio | 作品集</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-portfolio--作品集">    
        <li>
    <a class="dropdown-item" href="./STA_Portfolio.html" rel="" target="">
 <span class="dropdown-text">Data Analysis Portfolio \| 数据分析作品集</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./CS_Portfolio.html" rel="" target="">
 <span class="dropdown-text">Computer Science Portfolio | 计算机作品集</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="mailto:fermi.fei@mail.utoronto.ca" rel="" title="Email" class="quarto-navigation-tool px-1" aria-label="Email"><i class="bi bi-envelope"></i></a>
    <a href="https://github.com/FXXFERMI" rel="" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/siqi-fermi-fei" rel="" title="LinkedIn" class="quarto-navigation-tool px-1" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-analysis-portfolio-数据分析作品集" id="toc-data-analysis-portfolio-数据分析作品集" class="nav-link active" data-scroll-target="#data-analysis-portfolio-数据分析作品集">Data Analysis Portfolio | 数据分析作品集</a>
  <ul class="collapse">
  <li><a href="#economics-and-crime-patterns-经济与犯罪模式分析" id="toc-economics-and-crime-patterns-经济与犯罪模式分析" class="nav-link" data-scroll-target="#economics-and-crime-patterns-经济与犯罪模式分析">Economics and Crime Patterns | 经济与犯罪模式分析</a>
  <ul class="collapse">
  <li><a href="#the-interplay-between-cpi-changes-and-vehicle-theft-frequencies" id="toc-the-interplay-between-cpi-changes-and-vehicle-theft-frequencies" class="nav-link" data-scroll-target="#the-interplay-between-cpi-changes-and-vehicle-theft-frequencies">The Interplay Between CPI Changes and Vehicle Theft Frequencies</a></li>
  <li><a href="#消费者价格指数变化与车辆盗窃频率之间的相互作用" id="toc-消费者价格指数变化与车辆盗窃频率之间的相互作用" class="nav-link" data-scroll-target="#消费者价格指数变化与车辆盗窃频率之间的相互作用">《消费者价格指数变化与车辆盗窃频率之间的相互作用》</a></li>
  </ul></li>
  <li><a href="#income-and-gender-社会政治数据分析" id="toc-income-and-gender-社会政治数据分析" class="nav-link" data-scroll-target="#income-and-gender-社会政治数据分析">Income and Gender | 社会政治数据分析</a>
  <ul class="collapse">
  <li><a href="#forecasting-the-american-voters-choices-in-2018" id="toc-forecasting-the-american-voters-choices-in-2018" class="nav-link" data-scroll-target="#forecasting-the-american-voters-choices-in-2018">Forecasting the American Voters’ Choices in 2018</a></li>
  <li><a href="#收入与性别预测2018年美国选民的选择" id="toc-收入与性别预测2018年美国选民的选择" class="nav-link" data-scroll-target="#收入与性别预测2018年美国选民的选择">《收入与性别：预测2018年美国选民的选择》</a></li>
  </ul></li>
  <li><a href="#model-prediction-预测建模" id="toc-model-prediction-预测建模" class="nav-link" data-scroll-target="#model-prediction-预测建模">Model Prediction | 预测建模</a>
  <ul class="collapse">
  <li><a href="#nfl-passing-efficiency-forecasting" id="toc-nfl-passing-efficiency-forecasting" class="nav-link" data-scroll-target="#nfl-passing-efficiency-forecasting">NFL Passing Efficiency Forecasting</a></li>
  <li><a href="#nfl传球效率预测" id="toc-nfl传球效率预测" class="nav-link" data-scroll-target="#nfl传球效率预测">NFL传球效率预测</a></li>
  <li><a href="#足球控球效率建模" id="toc-足球控球效率建模" class="nav-link" data-scroll-target="#足球控球效率建模">足球控球效率建模</a></li>
  </ul></li>
  <li><a href="#data-visualization-数据可视化" id="toc-data-visualization-数据可视化" class="nav-link" data-scroll-target="#data-visualization-数据可视化">Data Visualization | 数据可视化</a>
  <ul class="collapse">
  <li><a href="#navigating-ethics-and-engagement-in-visualizing-the-holocaust-through-a-shiny-app" id="toc-navigating-ethics-and-engagement-in-visualizing-the-holocaust-through-a-shiny-app" class="nav-link" data-scroll-target="#navigating-ethics-and-engagement-in-visualizing-the-holocaust-through-a-shiny-app">Navigating Ethics and Engagement in Visualizing the Holocaust through a Shiny App</a></li>
  <li><a href="#通过shiny应用探索大屠杀的伦理和人文参与" id="toc-通过shiny应用探索大屠杀的伦理和人文参与" class="nav-link" data-scroll-target="#通过shiny应用探索大屠杀的伦理和人文参与">《通过Shiny应用探索大屠杀的伦理和人文参与》</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="data-analysis-portfolio-数据分析作品集" class="level1">
<h1>Data Analysis Portfolio | 数据分析作品集</h1>
<section id="economics-and-crime-patterns-经济与犯罪模式分析" class="level2">
<h2 class="anchored" data-anchor-id="economics-and-crime-patterns-经济与犯罪模式分析">Economics and Crime Patterns | 经济与犯罪模式分析</h2>
<p><img src="偷车.png" class="img-fluid"></p>
<section id="the-interplay-between-cpi-changes-and-vehicle-theft-frequencies" class="level3">
<h3 class="anchored" data-anchor-id="the-interplay-between-cpi-changes-and-vehicle-theft-frequencies">The Interplay Between CPI Changes and Vehicle Theft Frequencies</h3>
<p><em>Jan./2024 - April/2024</em></p>
<p>The study employs multiple regression models to identify correlations between various CPI categories and the frequency of vehicle thefts, offering insights that could influence economic and crime prevention policies.</p>
<ul>
<li><p>Please visit via GitHub: <a href="https://github.com/FXXFERMI/Economics-and-Crime-Patterns" class="uri">https://github.com/FXXFERMI/Economics-and-Crime-Patterns</a></p>
<ul>
<li>This repository contains the research paper, datasets, and supplementary materials</li>
</ul></li>
<li><p>To see the data visualization interactive app: <a href="https://siqi-fei.shinyapps.io/VehicleTheft_Inflation/" class="uri">https://siqi-fei.shinyapps.io/VehicleTheft_Inflation/</a></p></li>
</ul>
</section>
<section id="消费者价格指数变化与车辆盗窃频率之间的相互作用" class="level3">
<h3 class="anchored" data-anchor-id="消费者价格指数变化与车辆盗窃频率之间的相互作用">《消费者价格指数变化与车辆盗窃频率之间的相互作用》</h3>
<p><em>一月/2024 - 四月/2024</em></p>
<ul>
<li><p>负责研究探讨了消费者价格指数（CPI）变动对多伦多车辆盗窃率的影响</p></li>
<li><p>使用多元回归模型分析不同CPI类别与车辆盗窃频率之间的相关性</p></li>
<li><p>管理和分析大量数据集，确保分析过程的严谨性和结果的准确性</p></li>
<li><p>研究提供了可用于影响经济政策和犯罪预防策略的重要见解</p></li>
</ul>
<p>详细数据模型，代码及论文可以在GitHub中查看： <a href="https://github.com/FXXFERMI/Economics-and-Crime-Patterns" class="uri">https://github.com/FXXFERMI/Economics-and-Crime-Patterns</a></p>
<p>此外，也可以通过访问数据可视化App了解研究数据: <a href="https://siqi-fei.shinyapps.io/VehicleTheft_Inflation/" class="uri">https://siqi-fei.shinyapps.io/VehicleTheft_Inflation/</a></p>
<p><img src="Shiny App.png" class="img-fluid"></p>
</section>
</section>
<section id="income-and-gender-社会政治数据分析" class="level2">
<h2 class="anchored" data-anchor-id="income-and-gender-社会政治数据分析">Income and Gender | 社会政治数据分析</h2>
<p><img src="选举.png" class="img-fluid"></p>
<section id="forecasting-the-american-voters-choices-in-2018" class="level3">
<h3 class="anchored" data-anchor-id="forecasting-the-american-voters-choices-in-2018">Forecasting the American Voters’ Choices in 2018</h3>
<p><em>Jan./2024 - April/2024</em></p>
<p>The study examines the predictive power of income and gender on the voting behavior in the 2018 US elections using the Cooperative Congressional Election Study (CCES) 2018 dataset.</p>
<ul>
<li><p>Please visit via GitHub:<a href="https://github.com/FXXFERMI/Economics-and-Crime-Patterns" class="uri">https://github.com/FXXFERMI/Economics-and-Crime-Patterns</a></p>
<ul>
<li>This repository contains the research paper, datasets, and supplementary materials</li>
</ul></li>
<li><p>To see the data visualization interactive app: <a href="https://siqi-fei.shinyapps.io/VehicleTheft_Inflation/" class="uri">https://siqi-fei.shinyapps.io/VehicleTheft_Inflation/</a></p></li>
</ul>
</section>
<section id="收入与性别预测2018年美国选民的选择" class="level3">
<h3 class="anchored" data-anchor-id="收入与性别预测2018年美国选民的选择">《收入与性别：预测2018年美国选民的选择》</h3>
<p><em>一月/2024 - 四月/2024</em></p>
<ul>
<li><p>关于2018年美国选举的研究，分析了收入和性别对选民投票行为的预测力</p></li>
<li><p>利用2018年合作国会选举研究（CCES）数据集，通过统计模型检验假设</p></li>
<li><p>开发了复杂的数据分析流程，包括数据清理、处理和多变量分析，确保研究结果的准确性和可靠性</p></li>
<li><p>研究成果增进了对选民行为驱动因素的理解，为未来选举策略和政策制定提供了数据支持</p></li>
</ul>
<p>详细数据模型，代码及论文可以在GitHub中查看：<a href="https://github.com/FXXFERMI/Political-support-in-the-United-States" class="uri">https://github.com/FXXFERMI/Political-support-in-the-United-States</a></p>
</section>
</section>
<section id="model-prediction-预测建模" class="level2">
<h2 class="anchored" data-anchor-id="model-prediction-预测建模">Model Prediction | 预测建模</h2>
<p><img src="NFL.png" class="img-fluid"></p>
<section id="nfl-passing-efficiency-forecasting" class="level3">
<h3 class="anchored" data-anchor-id="nfl-passing-efficiency-forecasting">NFL Passing Efficiency Forecasting</h3>
<p>The analysis and predictive modeling work for the 2023 NFL season, focusing on forecasting the passing efficiency of quarterbacks using the passing expected points added (passing_epa) metric.</p>
<ul>
<li><p>Please visit via GitHub: <a href="https://github.com/FXXFERMI/NLP_pred" class="uri">https://github.com/FXXFERMI/NLP_pred</a></p>
<ul>
<li>This repository contains the research paper, datasets, and supplementary materials</li>
</ul></li>
</ul>
</section>
<section id="nfl传球效率预测" class="level3">
<h3 class="anchored" data-anchor-id="nfl传球效率预测">NFL传球效率预测</h3>
<p><em>一月/2024 - 四月/2024</em></p>
<ul>
<li><p>分析并预测2023 NFL赛季中四分卫的传球效率，使用了传球预期得分增加（passing_epa）指标</p></li>
<li><p>运用统计分析和机器学习技术构建预测模型，精确计算四分卫在比赛中的表现</p></li>
<li><p>设计并实现了一套完整的数据处理流程，从数据收集到清理，再到最终的分析和可视化</p></li>
<li><p>通过模型优化和算法调整，提高了预测准确性，为战术决策提供数据支持</p></li>
</ul>
<p>详细数据模型，代码及论文可以在GitHub中查看：<a href="https://github.com/FXXFERMI/NLP_pred" class="uri">https://github.com/FXXFERMI/NLP_pred</a></p>
<p><img src="足球.png" class="img-fluid"> ### Modeling the Efficacy of Possession in Football</p>
<p>The study examines the impact of ball possession on the scoring outcomes of football matches, specifically within the Bundesliga league over the season 2023 to 2024. By employing both Poisson and negative binomial regression models, this research seeks to unravel the nuanced relationship between the frequency of ball touches by the home team and their success in scoring goals.</p>
<ul>
<li><p>Please visit via GitHub: <a href="https://github.com/FXXFERMI/Modelling_association_football_scores" class="uri">https://github.com/FXXFERMI/Modelling_association_football_scores</a></p>
<ul>
<li>This repository contains the research paper, datasets, and supplementary materials</li>
</ul></li>
</ul>
</section>
<section id="足球控球效率建模" class="level3">
<h3 class="anchored" data-anchor-id="足球控球效率建模">足球控球效率建模</h3>
<p><em>一月/2024 - 四月/2024</em></p>
<ul>
<li><p>利用泊松回归和负二项回归模型，分析德甲联赛中球队控球对比赛进球结果的影响</p></li>
<li><p>处理和分析大量比赛数据，提炼出球队触球频率与进球成功率之间的关系</p></li>
<li><p>开发了一个用于数据输入和结果可视化的交互式界面，增强了数据呈现和用户交互体验</p></li>
<li><p>协调团队合作，确保研究的有效性和数据分析的准确性，通过细致的数据校验提高了项目质量</p></li>
</ul>
<p>详细数据模型，代码及论文可以在GitHub中查看：<a href="https://github.com/FXXFERMI/Modelling_association_football_scores" class="uri">https://github.com/FXXFERMI/Modelling_association_football_scores</a></p>
</section>
</section>
<section id="data-visualization-数据可视化" class="level2">
<h2 class="anchored" data-anchor-id="data-visualization-数据可视化">Data Visualization | 数据可视化</h2>
<section id="navigating-ethics-and-engagement-in-visualizing-the-holocaust-through-a-shiny-app" class="level3">
<h3 class="anchored" data-anchor-id="navigating-ethics-and-engagement-in-visualizing-the-holocaust-through-a-shiny-app">Navigating Ethics and Engagement in Visualizing the Holocaust through a Shiny App</h3>
<p><em>June./2023 - Sep./2023</em></p>
<p>This Shiny app provides an interactive visualization of the ethnic origins and numbers of Holocaust victims, specifically focusing on those murdered at Auschwitz concentration camp. Drawing inspiration from Jamelle Bouie’s 2022 article on the quantification of human tragedies, this project aims to honor the memory of the victims by presenting a dignified representation of the data, allowing users to explore specific groups based on categories such as birthplace, religion, birthdays, or regions.</p>
<ul>
<li><p>Please visit via GitHub: <a href="https://github.com/FXXFERMI/Shiny-Visualization" class="uri">https://github.com/FXXFERMI/Shiny-Visualization</a></p>
<ul>
<li>This repository contains the research paper, datasets, and supplementary materials</li>
</ul></li>
<li><p>To see the data visualization interactive app: <a href="https://siqi-fei.shinyapps.io/Holocaust_Victims/" class="uri">https://siqi-fei.shinyapps.io/Holocaust_Victims/</a></p></li>
</ul>
</section>
<section id="通过shiny应用探索大屠杀的伦理和人文参与" class="level3">
<h3 class="anchored" data-anchor-id="通过shiny应用探索大屠杀的伦理和人文参与">《通过Shiny应用探索大屠杀的伦理和人文参与》</h3>
<p><em>六月/2023 - 九月/2023</em></p>
<ul>
<li>开发了一个Shiny应用，用于交互式地展示大屠杀受害者的民族来源和人数，特别关注奥斯威辛集中营的受害者</li>
<li>项目灵感来源于Jamelle Bouie 2022年关于人类悲剧数量化的文章，旨在通过数据的尊严呈现，致敬受害者的记忆</li>
<li>为用户设计了一个可以根据出生地、宗教、生日或地区等分类，探索特定群体的用户友好界面</li>
<li>通过细致的数据分析和编程实现，确保了信息的准确性和视觉展示的敏感性</li>
</ul>
<p>详细数据模型，代码及论文可以在GitHub中查看：<a href="https://github.com/FXXFERMI/Shiny-Visualization" class="uri">https://github.com/FXXFERMI/Shiny-Visualization</a></p>
<p>Shiny App可以在不同浏览器，通过链接查看：<a href="https://siqi-fei.shinyapps.io/Holocaust_Victims/" class="uri">https://siqi-fei.shinyapps.io/Holocaust_Victims/</a></p>
<p><img src="Shiny.png" class="img-fluid"></p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>